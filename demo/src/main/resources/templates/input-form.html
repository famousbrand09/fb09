<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../static/bootstrap-5.3.0/css/bootstrap.min.css"
          th:href="@{/bootstrap-5.3.0/css/bootstrap.min.css}">
    <script th:src="@{/responsivevoice.js}"></script>

</head>
<body onload="show()">
<div class="container">
    <div style="width: 60%; margin: 0 auto">
        <form th:action="@{/create}" th:method="POST" th:object="${blindPerson}" autocomplete="off">
            <h2 class="mb-1 text-center">Mẫu đăng ký thông tin tìm việc làm nhập bằng phím</h2>
            <div class="mb-1">
                <label class="form-label">Tên:</label>
                <input onfocus="nameInput()" th:id="name" th:field="*{name}" type="text" class="form-control"
                       onfocusout="nameOutput('name')">
            </div>
            <div class="mb-1">
                <label for="date" class="form-label">Day Of Birth:</label>
                <input onfocus="dayOfBirthInput()" th:field="*{dateOfBirth}" type="text" class="form-control" id="date">
            </div>
            <div class="mb-1">
                <label for="address" class="form-label">Address:</label>
                <input onfocus="addressBlind()" th:field="*{address}" type="text" class="form-control" id="address">
            </div>
            <div class="mb-1">
                <label for="gender" class="form-label">Gender:</label>
                <input onfocus="genderBlind()" th:field="*{gender}" type="text" class="form-control" id="gender">
            </div>
            <div class="mb-1">
                <label for="exp" class="form-label">Experience:</label>
                <input onfocus="expBlind()" th:field="*{exp}" type="text" class="form-control" id="exp">
            </div>
            <div class="mb-1">
                <label for="skill" class="form-label">Skill:</label>
                <input onfocus="skillBlind()" th:field="*{skill}" type="text" class="form-control" id="skill">
            </div>
            <div class="mb-1">
                <label for="content" class="form-label">Content:</label>
                <input onfocus="contentBlind()" th:field="*{content}" type="text" class="form-control" id="content">
            </div>
            <div class="mb-2">
                <label for="phoneNumber" class="form-label">Phone Number:</label>
                <input onfocus="phoneNumberBlind()" th:field="*{phoneNumber}" type="text" class="form-control"
                       id="phoneNumber">
            </div>
            <div class="mb-1">
                <!-- Button trigger modal -->
                <button onfocus="confirmInfo()" type="submit" class="btn btn-primary">
                    Xác nhận thông tin
                </button>
            </div>
        </form>
    </div>
</div>
</body>
<script>
    function show() {
        responsiveVoice.speak("Đây là trang nhập thông tin đăng ký bằng nhập bằng phím, nhấn phím tab để bắt đầu nhập thông tin", "Vietnamese Female");
    }

    let flagCheckName = false;

    function nameInput() {
        flagCheckName = true;
        responsiveVoice.speak("Mời bạn nhập tên, sau đó nhấn phím sang phải để kiểm tra thông tin vừa nhập", "Vietnamese Female");
    }

    function dayOfBirthInput() {
        responsiveVoice.speak("Mời bạn nhập năm sinh", "Vietnamese Female");
        responsiveVoice.speak("Bạn vừa nhập là dxvsdfdsfdsf", "Vietnamese Female");
    }

    function addressBlind() {
        responsiveVoice.speak("Mời bạn nhập địa chỉ", "Vietnamese Female");
    }

    function genderBlind() {
        responsiveVoice.speak("Mời bạn nhập giới tính, nếu là nam thì nhập 0, nếu là nữ thì nhập 1", "Vietnamese Female");
    }

    function expBlind() {
        responsiveVoice.speak("Mời bạn nhập mô tả kinh nghiệm", "Vietnamese Female");
    }

    function skillBlind() {
        responsiveVoice.speak("Mời bạn nhập mô tả kỹ năng, điểm mạnh của bạn", "Vietnamese Female");
    }

    function contentBlind() {
        responsiveVoice.speak("Mời bạn mô tả những yêu cầu hoặc mong muốn khác nếu có", "Vietnamese Female");
    }

    function phoneNumberBlind() {
        responsiveVoice.speak("Mời bạn nhập số điện thoại", "Vietnamese Female");
    }

    function confirmInfo() {
        responsiveVoice.speak("Xác nhận thông tin của bạn, nếu muốn gửi thông tin đăng ký thì vui lòng nhấn phím enter hoặc space", "Vietnamese Female");
    }

    let flag = false;

    function nameOutput(name) {
        flagCheckName = false;
    }


    document.addEventListener("keydown", function (event) {
            if (flagCheckName) {
                if (event.code === "ArrowRight") {
                    responsiveVoice.speak("Tên bạn vừa nhập là " + document.getElementById("name").value
                        + ", nếu thông tin đã chính xác thì nhấn tab để tiếp tục nhập thông tin tiếp theo, nếu sai thì nhấn phím lên để nhập lại", "Vietnamese Female");
                }
                else if (event.keyCode === 38) {
                    debugger
                    document.getElementById('name').value = '';
                    responsiveVoice.speak("Mời bạn nhập lại tên", "Vietnamese Female");
                    return;
                }
            }
        }
    )
</script>
</body>
<script src="../static/bootstrap-5.3.0/js/bootstrap.min.js"
        th:src="@{/bootstrap-5.3.0/js/bootstrap.min.js}"></script>
</html>
